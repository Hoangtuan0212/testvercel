"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products";
exports.ids = ["pages/api/products"];
exports.modules = {

/***/ "(api-node)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9wcmlzbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGtCQUFrQkM7QUFFeEIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBO0FBRXpELElBQUlJLElBQXFDLEVBQUU7SUFDekNILGdCQUFnQkUsTUFBTSxHQUFHQTtBQUMzQjtBQUVBLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJhbmd0dXllblxcRG93bmxvYWRzXFxPMklOX05leHRqc19Qcm9qZWN0ICgxKVxcbGliXFxwcmlzbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XHJcblxyXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWwgYXMgdW5rbm93biBhcyB7IHByaXNtYT86IFByaXNtYUNsaWVudCB9O1xyXG5cclxuY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KCk7XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJpc21hO1xyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsIiwicHJpc21hIiwicHJvY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_products_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\products\\index.ts */ \"(api-node)/./pages/api/products/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_index_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_index_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/products\",\n        pathname: \"/api/products\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_products_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3Byb2R1Y3RzJTVDaW5kZXgudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx5REFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxwcm9kdWN0c1xcXFxpbmRleC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZHVjdHNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9kdWN0c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/products/index.ts":
/*!*************************************!*\
  !*** ./pages/api/products/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/prisma */ \"(api-node)/./lib/prisma.ts\");\n // Kiểm tra đường dẫn Prisma\nasync function handler(req, res) {\n    // Xử lý phương thức GET\n    if (req.method === \"GET\") {\n        try {\n            const { category, minPrice, maxPrice, color, size, sort, page = \"1\", limit = \"12\" } = req.query;\n            // Chuyển đổi query sang kiểu số\n            const pageNum = parseInt(page, 10) || 1;\n            const limitNum = parseInt(limit, 10) || 12;\n            const minPriceNum = minPrice ? parseInt(minPrice, 10) : undefined;\n            const maxPriceNum = maxPrice ? parseInt(maxPrice, 10) : undefined;\n            // Xác định bộ lọc theo danh mục (tùy theo ID của danh mục trong DB)\n            let categoryFilter;\n            if (category === \"ao\") {\n                categoryFilter = 1; // ID danh mục 'Áo'\n            } else if (category === \"quan\") {\n                categoryFilter = 2; // ID danh mục 'Quần'\n            }\n            // Xây dựng điều kiện lọc sản phẩm\n            const filters = {};\n            if (categoryFilter) filters.category_id = categoryFilter;\n            if (minPriceNum) {\n                filters.price = {\n                    gte: minPriceNum\n                };\n            }\n            if (maxPriceNum) {\n                filters.price = {\n                    ...filters.price || {},\n                    lte: maxPriceNum\n                };\n            }\n            // Nếu cột colors, sizes là JSON (mảng), dùng contains để so sánh chuỗi\n            if (color) {\n                filters.colors = {\n                    contains: `\"${color}\"`\n                };\n            }\n            if (size) {\n                filters.sizes = {\n                    contains: `\"${size}\"`\n                };\n            }\n            // Lấy tổng số sản phẩm phù hợp với điều kiện lọc\n            const totalCount = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].product.count({\n                where: filters\n            });\n            const totalPages = Math.ceil(totalCount / limitNum);\n            // Xác định thứ tự sắp xếp\n            const orderBy = sort === \"priceAsc\" ? {\n                price: \"asc\"\n            } : sort === \"priceDesc\" ? {\n                price: \"desc\"\n            } : {\n                created_at: \"desc\"\n            }; // Mặc định sắp xếp theo sản phẩm mới nhất\n            // Truy vấn danh sách sản phẩm theo phân trang với các điều kiện lọc\n            const products = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].product.findMany({\n                where: filters,\n                orderBy,\n                take: limitNum,\n                skip: (pageNum - 1) * limitNum,\n                select: {\n                    id: true,\n                    title: true,\n                    price: true,\n                    discount: true,\n                    thumbnail: true,\n                    // colors, sizes đã lưu dưới dạng JSON, Prisma tự parse thành mảng\n                    colors: true,\n                    sizes: true,\n                    gallery: {\n                        select: {\n                            thumbnail: true\n                        }\n                    }\n                }\n            });\n            // Trả về dữ liệu sản phẩm cùng thông tin phân trang\n            return res.status(200).json({\n                products,\n                pagination: {\n                    currentPage: pageNum,\n                    totalPages,\n                    totalCount,\n                    limit: limitNum\n                }\n            });\n        } catch (error) {\n            console.error(\"❌ Lỗi API sản phẩm:\", error);\n            return res.status(500).json({\n                message: \"Lỗi server, kiểm tra console backend!\"\n            });\n        }\n    }\n    // Xử lý phương thức POST để chèn sản phẩm\n    if (req.method === \"POST\") {\n        try {\n            const { title, price, discount, thumbnail, description, colors, sizes } = req.body;\n            // Kiểm tra dữ liệu đầu vào\n            if (!title || !price) {\n                return res.status(400).json({\n                    message: \"Thiếu thông tin cần thiết\"\n                });\n            }\n            // Chèn sản phẩm vào cơ sở dữ liệu\n            const newProduct = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].product.create({\n                data: {\n                    title,\n                    price,\n                    discount,\n                    thumbnail,\n                    description,\n                    colors,\n                    sizes\n                }\n            });\n            return res.status(201).json(newProduct);\n        } catch (error) {\n            console.error(\"❌ Lỗi khi chèn sản phẩm:\", error);\n            return res.status(500).json({\n                message: \"Lỗi server, kiểm tra console backend!\"\n            });\n        }\n    }\n    // Nếu phương thức không được hỗ trợ\n    res.setHeader(\"Allow\", [\n        \"GET\",\n        \"POST\"\n    ]);\n    return res.status(405).json({\n        message: `Method ${req.method} Not Allowed`\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9wcm9kdWN0cy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUN5QyxDQUFDLDRCQUE0QjtBQUV2RCxlQUFlQyxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CO0lBRXBCLHdCQUF3QjtJQUN4QixJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixJQUFJO1lBQ0YsTUFBTSxFQUNKQyxRQUFRLEVBQ1JDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxLQUFLLEVBQ0xDLElBQUksRUFDSkMsSUFBSSxFQUNKQyxPQUFPLEdBQUcsRUFDVkMsUUFBUSxJQUFJLEVBQ2IsR0FBR1YsSUFBSVcsS0FBSztZQUViLGdDQUFnQztZQUNoQyxNQUFNQyxVQUFVQyxTQUFTSixNQUFnQixPQUFPO1lBQ2hELE1BQU1LLFdBQVdELFNBQVNILE9BQWlCLE9BQU87WUFDbEQsTUFBTUssY0FBY1gsV0FDaEJTLFNBQVNULFVBQW9CLE1BQzdCWTtZQUNKLE1BQU1DLGNBQWNaLFdBQ2hCUSxTQUFTUixVQUFvQixNQUM3Qlc7WUFFSixvRUFBb0U7WUFDcEUsSUFBSUU7WUFDSixJQUFJZixhQUFhLE1BQU07Z0JBQ3JCZSxpQkFBaUIsR0FBRyxtQkFBbUI7WUFDekMsT0FBTyxJQUFJZixhQUFhLFFBQVE7Z0JBQzlCZSxpQkFBaUIsR0FBRyxxQkFBcUI7WUFDM0M7WUFFQSxrQ0FBa0M7WUFDbEMsTUFBTUMsVUFBZSxDQUFDO1lBQ3RCLElBQUlELGdCQUFnQkMsUUFBUUMsV0FBVyxHQUFHRjtZQUMxQyxJQUFJSCxhQUFhO2dCQUNmSSxRQUFRRSxLQUFLLEdBQUc7b0JBQUVDLEtBQUtQO2dCQUFZO1lBQ3JDO1lBQ0EsSUFBSUUsYUFBYTtnQkFDZkUsUUFBUUUsS0FBSyxHQUFHO29CQUNkLEdBQUlGLFFBQVFFLEtBQUssSUFBSSxDQUFDLENBQUM7b0JBQ3ZCRSxLQUFLTjtnQkFDUDtZQUNGO1lBRUEsdUVBQXVFO1lBQ3ZFLElBQUlYLE9BQU87Z0JBQ1RhLFFBQVFLLE1BQU0sR0FBRztvQkFBRUMsVUFBVSxDQUFDLENBQUMsRUFBRW5CLE1BQU0sQ0FBQyxDQUFDO2dCQUFDO1lBQzVDO1lBQ0EsSUFBSUMsTUFBTTtnQkFDUlksUUFBUU8sS0FBSyxHQUFHO29CQUFFRCxVQUFVLENBQUMsQ0FBQyxFQUFFbEIsS0FBSyxDQUFDLENBQUM7Z0JBQUM7WUFDMUM7WUFFQSxpREFBaUQ7WUFDakQsTUFBTW9CLGFBQWEsTUFBTTdCLDJEQUFjLENBQUMrQixLQUFLLENBQUM7Z0JBQUVDLE9BQU9YO1lBQVE7WUFDL0QsTUFBTVksYUFBYUMsS0FBS0MsSUFBSSxDQUFDTixhQUFhYjtZQUUxQywwQkFBMEI7WUFDMUIsTUFBTW9CLFVBQ0oxQixTQUFTLGFBQ0w7Z0JBQUVhLE9BQU87WUFBTSxJQUNmYixTQUFTLGNBQ1Q7Z0JBQUVhLE9BQU87WUFBTyxJQUNoQjtnQkFBRWMsWUFBWTtZQUFPLEdBQUcsMENBQTBDO1lBRXhFLG9FQUFvRTtZQUNwRSxNQUFNQyxXQUFXLE1BQU10QywyREFBYyxDQUFDdUMsUUFBUSxDQUFDO2dCQUM3Q1AsT0FBT1g7Z0JBQ1BlO2dCQUNBSSxNQUFNeEI7Z0JBQ055QixNQUFNLENBQUMzQixVQUFVLEtBQUtFO2dCQUN0QjBCLFFBQVE7b0JBQ05DLElBQUk7b0JBQ0pDLE9BQU87b0JBQ1ByQixPQUFPO29CQUNQc0IsVUFBVTtvQkFDVkMsV0FBVztvQkFDWCxrRUFBa0U7b0JBQ2xFcEIsUUFBUTtvQkFDUkUsT0FBTztvQkFDUG1CLFNBQVM7d0JBQ1BMLFFBQVE7NEJBQUVJLFdBQVc7d0JBQUs7b0JBQzVCO2dCQUNGO1lBQ0Y7WUFFQSxvREFBb0Q7WUFDcEQsT0FBTzNDLElBQUk2QyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQlg7Z0JBQ0FZLFlBQVk7b0JBQ1ZDLGFBQWFyQztvQkFDYm1CO29CQUNBSjtvQkFDQWpCLE9BQU9JO2dCQUNUO1lBQ0Y7UUFDRixFQUFFLE9BQU9vQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx1QkFBdUJBO1lBQ3JDLE9BQU9qRCxJQUNKNkMsTUFBTSxDQUFDLEtBQ1BDLElBQUksQ0FBQztnQkFBRUssU0FBUztZQUF3QztRQUM3RDtJQUNGO0lBRUEsMENBQTBDO0lBQzFDLElBQUlwRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixJQUFJO1lBQ0YsTUFBTSxFQUNKd0MsS0FBSyxFQUNMckIsS0FBSyxFQUNMc0IsUUFBUSxFQUNSQyxTQUFTLEVBQ1RTLFdBQVcsRUFDWDdCLE1BQU0sRUFDTkUsS0FBSyxFQUNOLEdBQUcxQixJQUFJc0QsSUFBSTtZQUVaLDJCQUEyQjtZQUMzQixJQUFJLENBQUNaLFNBQVMsQ0FBQ3JCLE9BQU87Z0JBQ3BCLE9BQU9wQixJQUFJNkMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUssU0FBUztnQkFBNEI7WUFDckU7WUFFQSxrQ0FBa0M7WUFDbEMsTUFBTUcsYUFBYSxNQUFNekQsMkRBQWMsQ0FBQzBELE1BQU0sQ0FBQztnQkFDN0NDLE1BQU07b0JBQ0pmO29CQUNBckI7b0JBQ0FzQjtvQkFDQUM7b0JBQ0FTO29CQUNBN0I7b0JBQ0FFO2dCQUNGO1lBQ0Y7WUFFQSxPQUFPekIsSUFBSTZDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNRO1FBQzlCLEVBQUUsT0FBT0wsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxPQUFPakQsSUFDSjZDLE1BQU0sQ0FBQyxLQUNQQyxJQUFJLENBQUM7Z0JBQUVLLFNBQVM7WUFBd0M7UUFDN0Q7SUFDRjtJQUVBLG9DQUFvQztJQUNwQ25ELElBQUl5RCxTQUFTLENBQUMsU0FBUztRQUFDO1FBQU87S0FBTztJQUN0QyxPQUFPekQsSUFBSTZDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUssU0FBUyxDQUFDLE9BQU8sRUFBRXBELElBQUlFLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFBQztBQUM1RSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCYW5ndHV5ZW5cXERvd25sb2Fkc1xcTzJJTl9OZXh0anNfUHJvamVjdCAoMSlcXHBhZ2VzXFxhcGlcXHByb2R1Y3RzXFxpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHByaXNtYSBmcm9tIFwiLi4vLi4vLi4vbGliL3ByaXNtYVwiOyAvLyBLaeG7g20gdHJhIMSRxrDhu51uZyBk4bqrbiBQcmlzbWFcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICAvLyBY4butIGzDvSBwaMawxqFuZyB0aOG7qWMgR0VUXHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBjYXRlZ29yeSxcclxuICAgICAgICBtaW5QcmljZSxcclxuICAgICAgICBtYXhQcmljZSxcclxuICAgICAgICBjb2xvciwgLy8gTOG6pXkgdOG7qyBxdWVyeVxyXG4gICAgICAgIHNpemUsIC8vIEzhuqV5IHThu6sgcXVlcnlcclxuICAgICAgICBzb3J0LFxyXG4gICAgICAgIHBhZ2UgPSBcIjFcIixcclxuICAgICAgICBsaW1pdCA9IFwiMTJcIixcclxuICAgICAgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICAgIC8vIENodXnhu4NuIMSR4buVaSBxdWVyeSBzYW5nIGtp4buDdSBz4buRXHJcbiAgICAgIGNvbnN0IHBhZ2VOdW0gPSBwYXJzZUludChwYWdlIGFzIHN0cmluZywgMTApIHx8IDE7XHJcbiAgICAgIGNvbnN0IGxpbWl0TnVtID0gcGFyc2VJbnQobGltaXQgYXMgc3RyaW5nLCAxMCkgfHwgMTI7XHJcbiAgICAgIGNvbnN0IG1pblByaWNlTnVtID0gbWluUHJpY2VcclxuICAgICAgICA/IHBhcnNlSW50KG1pblByaWNlIGFzIHN0cmluZywgMTApXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IG1heFByaWNlTnVtID0gbWF4UHJpY2VcclxuICAgICAgICA/IHBhcnNlSW50KG1heFByaWNlIGFzIHN0cmluZywgMTApXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAvLyBYw6FjIMSR4buLbmggYuG7mSBs4buNYyB0aGVvIGRhbmggbeG7pWMgKHTDuXkgdGhlbyBJRCBj4bunYSBkYW5oIG3hu6VjIHRyb25nIERCKVxyXG4gICAgICBsZXQgY2F0ZWdvcnlGaWx0ZXI7XHJcbiAgICAgIGlmIChjYXRlZ29yeSA9PT0gXCJhb1wiKSB7XHJcbiAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPSAxOyAvLyBJRCBkYW5oIG3hu6VjICfDgW8nXHJcbiAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkgPT09IFwicXVhblwiKSB7XHJcbiAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPSAyOyAvLyBJRCBkYW5oIG3hu6VjICdRdeG6p24nXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFjDonkgZOG7sW5nIMSRaeG7gXUga2nhu4duIGzhu41jIHPhuqNuIHBo4bqpbVxyXG4gICAgICBjb25zdCBmaWx0ZXJzOiBhbnkgPSB7fTtcclxuICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyKSBmaWx0ZXJzLmNhdGVnb3J5X2lkID0gY2F0ZWdvcnlGaWx0ZXI7XHJcbiAgICAgIGlmIChtaW5QcmljZU51bSkge1xyXG4gICAgICAgIGZpbHRlcnMucHJpY2UgPSB7IGd0ZTogbWluUHJpY2VOdW0gfTtcclxuICAgICAgfVxyXG4gICAgICBpZiAobWF4UHJpY2VOdW0pIHtcclxuICAgICAgICBmaWx0ZXJzLnByaWNlID0ge1xyXG4gICAgICAgICAgLi4uKGZpbHRlcnMucHJpY2UgfHwge30pLFxyXG4gICAgICAgICAgbHRlOiBtYXhQcmljZU51bSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBO4bq/dSBj4buZdCBjb2xvcnMsIHNpemVzIGzDoCBKU09OICht4bqjbmcpLCBkw7luZyBjb250YWlucyDEkeG7gyBzbyBzw6FuaCBjaHXhu5dpXHJcbiAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgIGZpbHRlcnMuY29sb3JzID0geyBjb250YWluczogYFwiJHtjb2xvcn1cImAgfTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2l6ZSkge1xyXG4gICAgICAgIGZpbHRlcnMuc2l6ZXMgPSB7IGNvbnRhaW5zOiBgXCIke3NpemV9XCJgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEzhuqV5IHThu5VuZyBz4buRIHPhuqNuIHBo4bqpbSBwaMO5IGjhu6NwIHbhu5tpIMSRaeG7gXUga2nhu4duIGzhu41jXHJcbiAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSBhd2FpdCBwcmlzbWEucHJvZHVjdC5jb3VudCh7IHdoZXJlOiBmaWx0ZXJzIH0pO1xyXG4gICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdE51bSk7XHJcblxyXG4gICAgICAvLyBYw6FjIMSR4buLbmggdGjhu6kgdOG7sSBz4bqvcCB44bq/cFxyXG4gICAgICBjb25zdCBvcmRlckJ5ID1cclxuICAgICAgICBzb3J0ID09PSBcInByaWNlQXNjXCJcclxuICAgICAgICAgID8geyBwcmljZTogXCJhc2NcIiB9XHJcbiAgICAgICAgICA6IHNvcnQgPT09IFwicHJpY2VEZXNjXCJcclxuICAgICAgICAgID8geyBwcmljZTogXCJkZXNjXCIgfVxyXG4gICAgICAgICAgOiB7IGNyZWF0ZWRfYXQ6IFwiZGVzY1wiIH07IC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBz4bqjbiBwaOG6qW0gbeG7m2kgbmjhuqV0XHJcblxyXG4gICAgICAvLyBUcnV5IHbhuqVuIGRhbmggc8OhY2ggc+G6o24gcGjhuqltIHRoZW8gcGjDom4gdHJhbmcgduG7m2kgY8OhYyDEkWnhu4F1IGtp4buHbiBs4buNY1xyXG4gICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByaXNtYS5wcm9kdWN0LmZpbmRNYW55KHtcclxuICAgICAgICB3aGVyZTogZmlsdGVycyxcclxuICAgICAgICBvcmRlckJ5LFxyXG4gICAgICAgIHRha2U6IGxpbWl0TnVtLFxyXG4gICAgICAgIHNraXA6IChwYWdlTnVtIC0gMSkgKiBsaW1pdE51bSxcclxuICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgdGl0bGU6IHRydWUsXHJcbiAgICAgICAgICBwcmljZTogdHJ1ZSxcclxuICAgICAgICAgIGRpc2NvdW50OiB0cnVlLFxyXG4gICAgICAgICAgdGh1bWJuYWlsOiB0cnVlLFxyXG4gICAgICAgICAgLy8gY29sb3JzLCBzaXplcyDEkcOjIGzGsHUgZMaw4bubaSBk4bqhbmcgSlNPTiwgUHJpc21hIHThu7EgcGFyc2UgdGjDoG5oIG3huqNuZ1xyXG4gICAgICAgICAgY29sb3JzOiB0cnVlLFxyXG4gICAgICAgICAgc2l6ZXM6IHRydWUsXHJcbiAgICAgICAgICBnYWxsZXJ5OiB7XHJcbiAgICAgICAgICAgIHNlbGVjdDogeyB0aHVtYm5haWw6IHRydWUgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUcuG6oyB24buBIGThu68gbGnhu4d1IHPhuqNuIHBo4bqpbSBjw7luZyB0aMO0bmcgdGluIHBow6JuIHRyYW5nXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgcHJvZHVjdHMsXHJcbiAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2VOdW0sXHJcbiAgICAgICAgICB0b3RhbFBhZ2VzLFxyXG4gICAgICAgICAgdG90YWxDb3VudCxcclxuICAgICAgICAgIGxpbWl0OiBsaW1pdE51bSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgTOG7l2kgQVBJIHPhuqNuIHBo4bqpbTpcIiwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgLnN0YXR1cyg1MDApXHJcbiAgICAgICAgLmpzb24oeyBtZXNzYWdlOiBcIkzhu5dpIHNlcnZlciwga2nhu4NtIHRyYSBjb25zb2xlIGJhY2tlbmQhXCIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBY4butIGzDvSBwaMawxqFuZyB0aOG7qWMgUE9TVCDEkeG7gyBjaMOobiBz4bqjbiBwaOG6qW1cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICB0aXRsZSxcclxuICAgICAgICBwcmljZSxcclxuICAgICAgICBkaXNjb3VudCxcclxuICAgICAgICB0aHVtYm5haWwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgY29sb3JzLCAvLyBtb25nIMSR4bujaSBsw6AgbeG6o25nIEpTT04gKGhv4bq3YyBjaHXhu5dpIEpTT04pXHJcbiAgICAgICAgc2l6ZXMsIC8vIG1vbmcgxJHhu6NpIGzDoCBt4bqjbmcgSlNPTiAoaG/hurdjIGNodeG7l2kgSlNPTilcclxuICAgICAgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgLy8gS2nhu4NtIHRyYSBk4buvIGxp4buHdSDEkeG6p3UgdsOgb1xyXG4gICAgICBpZiAoIXRpdGxlIHx8ICFwcmljZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIiB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2jDqG4gc+G6o24gcGjhuqltIHbDoG8gY8ahIHPhu58gZOG7ryBsaeG7h3VcclxuICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IGF3YWl0IHByaXNtYS5wcm9kdWN0LmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICBwcmljZSxcclxuICAgICAgICAgIGRpc2NvdW50LFxyXG4gICAgICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBjb2xvcnMsIC8vIG7hur91IHRydXnhu4FuIG3huqNuZywgUHJpc21hIHPhur0gdOG7sSBzZXJpYWxpemUgdGjDoG5oIEpTT05cclxuICAgICAgICAgIHNpemVzLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld1Byb2R1Y3QpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBM4buXaSBraGkgY2jDqG4gc+G6o24gcGjhuqltOlwiLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDUwMClcclxuICAgICAgICAuanNvbih7IG1lc3NhZ2U6IFwiTOG7l2kgc2VydmVyLCBraeG7g20gdHJhIGNvbnNvbGUgYmFja2VuZCFcIiB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE7hur91IHBoxrDGoW5nIHRo4bupYyBraMO0bmcgxJHGsOG7o2MgaOG7lyB0cuG7o1xyXG4gIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBbXCJHRVRcIiwgXCJQT1NUXCJdKTtcclxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiBgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiY2F0ZWdvcnkiLCJtaW5QcmljZSIsIm1heFByaWNlIiwiY29sb3IiLCJzaXplIiwic29ydCIsInBhZ2UiLCJsaW1pdCIsInF1ZXJ5IiwicGFnZU51bSIsInBhcnNlSW50IiwibGltaXROdW0iLCJtaW5QcmljZU51bSIsInVuZGVmaW5lZCIsIm1heFByaWNlTnVtIiwiY2F0ZWdvcnlGaWx0ZXIiLCJmaWx0ZXJzIiwiY2F0ZWdvcnlfaWQiLCJwcmljZSIsImd0ZSIsImx0ZSIsImNvbG9ycyIsImNvbnRhaW5zIiwic2l6ZXMiLCJ0b3RhbENvdW50IiwicHJvZHVjdCIsImNvdW50Iiwid2hlcmUiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJvcmRlckJ5IiwiY3JlYXRlZF9hdCIsInByb2R1Y3RzIiwiZmluZE1hbnkiLCJ0YWtlIiwic2tpcCIsInNlbGVjdCIsImlkIiwidGl0bGUiLCJkaXNjb3VudCIsInRodW1ibmFpbCIsImdhbGxlcnkiLCJzdGF0dXMiLCJqc29uIiwicGFnaW5hdGlvbiIsImN1cnJlbnRQYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsImRlc2NyaXB0aW9uIiwiYm9keSIsIm5ld1Byb2R1Y3QiLCJjcmVhdGUiLCJkYXRhIiwic2V0SGVhZGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/products/index.ts\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();